@page "/"

<h1>Blazor Pretty Code</h1>

<p>The PrettyCode comoponent is a Blazor component that is meant to be used by Blazor developers to format CSHTML for their documentation site.</p>

<h2>Features</h2>

<ul>
    <li>Format and display of HTML</li>
    <li>Basic formating and display of Razor files</li>
    <li>Theme support</li>
    <li>Line numbering</li>
    <li>Row highlighting</li>
    <li>Collapse/Exapnd of code blocks</li>
</ul>

<h2>Coming soon</h2>

<ul>
    <li>Enhanced support for C# code</li>

</ul>

<h2>Dependent projects</h2>
<ul>
    <li><a href="https://github.com/chanan/CSHTMLTokenizer">CSHTMLTokenizer</a> is used to convert Razor syntax into tokens</li>
    <li><a href="https://chanan.github.io/BlazorStyled/">BlazorStyled</a> is used to create the pretty code and theming</li>
</ul>

<h2>Theme Switcher</h2>

<p>Use this dropdown to select a default theme for the code snipppets on this page (unless it is overrriden):</p>

<div><CodeThemeSwitcher /></div>

<h2>Install</h2>

<p>Install: <a href="https://www.nuget.org/packages/BlazorPrettyCode/"><img src="https://img.shields.io/nuget/vpre/BlazorPrettyCode.svg" /></a></p>

<h3>Client Side Support</h3>

<p>
    Initialize <code>BlazorPrettyCode</code> in your <code>Startup.cs</code>: <code>services.AddBlazorPrettyCode();</code>. You may also set defaults.
    In the <code>Configure</code> method add <code>app.AddComponent&lt;ClientSideStyled>("#styled");</code> as well as shown below:
</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/program.html" HighlightLines="7,11" Title="Program.cs" />

<p>For Client Side Blazor, in your <code>index.html</code> add a <code>style</code> tag:</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/clientside.html" HighlightLines="8" Title="index.html" />

<p>In your Blazor component or in <code>_imports.razor</code> import the component: <code>@@using BlazorPrettyCode</code> and add it to your page:</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/usingSimple.html" />

<h3>Server Side Support</h3>

<p>
    Blazor Pretty Code works in Server Side as well. Update your <code>_hosts.cshtml</code> files and and add to the <code>head</code>:
</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/serverside.html" HighlightLines="12" Title="_Host.cshtml" />

<h2>Demo</h2>

<PrettyCode CodeFile="_content/SamplePages/snippets/css1.html" />

<h3>Razor Syntax</h3>

<h4>Razor in Attributes</h4>

<PrettyCode CodeFile="_content/SamplePages/snippets/demoAttributes.html" />

<h4>Razor Snippets</h4>

<PrettyCode CodeFile="_content/SamplePages/snippets/demoSnippet.html" />

<h4>Razor Plus Code Section</h4>

<p>
    The example below loads the code in two parts (<code>CodeFile</code> and <code>CodeSectionFile</code>) and uses line numbers to select the relevant parrs.
    When <code>CodeSectionFile</code> is not wrapped by <code>@@code { }</code> it will automatically wrapped.
    If <code>CodeSectionFile</code> is empty, but <code>CodeSectionFileLineNumbers</code> is not, it is assumed that the code section is in the same file as <code>CodeFile</code>).
    For example, the below section:
</p>

<PrettyCode CodeFile="https://raw.githubusercontent.com/chanan/BlazorStyled/master/src/SampleCore/Pages/Basic.razor"
            CodeFileLineNumbers="2,28"
            CodeSectionFileLineNumbers="50-56"
            KeepOriginalLineNumbers="true" />

<p>is created by:</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/githubSnippet.html" />

<p>Setting <code>KeepOriginalLineNumbers="true"</code> as in the example above will keep the line numbers the same as in the original file</p>

<h2>Line Numbers</h2>

<p>Line numbers can be turned on and off globally or on a per basis on the componenet level:</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/demo.html" ShowLineNumbers="false" />

<h2>Row Highlighting</h2>

<p>
    You can supply row numbers to <code>HighlightLines</code> parameter to highlight some rows. <code>ShowLineNumbers</code> must also be set to true to see the highlights.
    You can pass several numbers as well as a range as in the example below:
</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/highlights.html" HighlightLines="1,3-5" />

<p>And with line numbers turned off:</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/highlights.html" HighlightLines="1,3-5" ShowLineNumbers="false" />

<h2>Titles</h2>

<PrettyCode CodeFile="_content/SamplePages/snippets/titleExample.html" Title="Title Example" />

<h2>Expand / Collapse</h2>

<PrettyCode CodeFile="_content/SamplePages/snippets/collapseExample.html" Title="Collapse Example" ShowCollapse="true" IsCollapsed="true" />

<p>
    You can also set all snippets to have a collapse link by setting <code>DefaultSettings.ShowCollapse</code> to <code>true</code>.
    If you want all snippets to be collapsed by default you can set <code>DefaultSettings.IsCollapsed</code> to <code>true</code>.
</p>

<h2>Themes</h2>

<p>
    Themes are defined in json and default to <code>PrettyCodeDefault</code> which can be
    overridden by passing class to Theme attribute of <code>PrettyCode</code>. Below is a PrettyCode block using the theme
    <code>SolarizedLight</code>:
</p>



<PrettyCode CodeFile="_content/SamplePages/snippets/usingThemes.html" Theme="SolarizedLight" />

<p>The builtin themes you can use are:</p>

<ul>
    <li>PrettyCodeDefault</li>
    <li>GithubPlus</li>
    <li>Material</li>
    <li>SolarizedLight</li>
    <li>SolarizedDark</li>
    <li>WinterIsComingDark</li>
    <li>WinterIsComingLight</li>
</ul>

<p>You may also create your own theme json file and supply a uri to the <code>Theme</code> parameter.</p>

<h2>Parse Errors</h2>

<p>
    By default, parsing errors will appear in the code box. Setting <code>ShowException</code> to <code>false</code> on the component or on <code>DefaultSettings</code> will supress the display of exceptions
    in the component (they will still appear in the browser console).
</p>

<PrettyCode CodeFile="_content/SamplePages/snippets/badHtml.html" />

<div class="text-center">
    <a href="https://github.com/chanan/BlazorPrettyCode"><img src="https://img.shields.io/github/stars/chanan/BlazorPrettyCode.svg?style=social&label=Stars" /></a>
</div>
